/* ====== Tokens ====== */
:root {
  --ease: cubic-bezier(.22,.61,.36,1);
  --shadow-1: 0 6px 18px rgba(10,39,24,.12);
  --shadow-2: 0 14px 40px rgba(6,24,15,.28);
  --brand: #1f8a4c;
  --brand-2: #0a3324;
  --brand-accent: #63d471;
  --btn-text: #ffffff;
  --ring: rgba(31,138,76,.35);
  --surface: #0f1d18;
  --text-color: #0d1c17;
  --heading-color: #0a140f;
  --chip-bg: #e7f4ea;
  --chip-fg: #0d1c17;
  --muted: #607269;
  --border: rgba(17,64,41,.14);
}
[data-bs-theme="dark"] {
  --surface: #040a08;
  --text-color: #dee9e3;
  --heading-color: #f4fff9;
  --chip-bg: rgba(99,212,113,.12);
  --chip-fg: #e8f7ef;
  --muted: #a8b7b0;
  --border: rgba(99,212,113,.25);
}

html { scroll-behavior: smooth; }
body {
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", sans-serif;
  color-scheme: light dark;
  color: var(--text-color);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  background: linear-gradient(180deg, rgba(15,29,24,.04) 0%, rgba(6,24,15,.06) 40%, rgba(10,51,36,.08) 100%);
}

section { padding: 4rem 0; scroll-margin-top: 84px; }

/* ====== Navbar ====== */
.navbar {
  transition: background-color .3s var(--ease), box-shadow .3s var(--ease), padding .3s var(--ease);
  backdrop-filter: blur(10px);
}
.navbar.is-scrolled {
  background-color: rgba(12,36,25,.85);
  box-shadow: var(--shadow-1);
}
[data-bs-theme="light"] .navbar.is-scrolled { background-color: rgba(255,255,255,.85); }
.navbar .nav-link { position: relative; font-weight: 500; }
.navbar .nav-link::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: .35rem;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--brand), var(--brand-accent));
  opacity: .9;
  transition: width .25s var(--ease);
}
.navbar .nav-link:hover::after,
.navbar .nav-link:focus-visible::after,
.navbar .nav-link.active::after { width: 100%; }
.navbar .nav-link.active { color: var(--brand); }

/* ====== Hero ====== */
.hero {
  position: relative;
  padding-top: 7rem;
  padding-bottom: 4.5rem;
  background: radial-gradient(circle at top right, rgba(99,212,113,.18), transparent 45%),
              linear-gradient(135deg, rgba(10,51,36,.92), rgba(8,28,20,.92));
  color: #f4fff9;
}
.hero .title,
.hero .lead { color: inherit; }
.hero .lead { font-size: 1.1rem; max-width: 52ch; }
.hero .badge { letter-spacing: .08em; }

.hero-card {
  padding: 2.5rem 2rem;
  border-radius: 1.5rem;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: 0 25px 50px rgba(0,0,0,.26);
}
[data-bs-theme="light"] .hero-card {
  background: rgba(255,255,255,.92);
  border-color: rgba(31,138,76,.15);
  box-shadow: var(--shadow-2);
  color: var(--text-color);
}
.hero-avatar-wrap { position: relative; display: inline-block; }
.hero-avatar-wrap .status-dot {
  position: absolute;
  bottom: 18px;
  right: 12px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 3px solid rgba(10,51,36,.8);
  background: var(--brand-accent);
  box-shadow: 0 0 0 6px rgba(99,212,113,.25);
}
[data-bs-theme="light"] .hero-avatar-wrap .status-dot { border-color: #fff; }
.metric { text-transform: uppercase; letter-spacing: .06em; font-size: .75rem; color: rgba(244,255,249,.8); }
.metric strong { display: block; font-size: 1.15rem; letter-spacing: normal; color: inherit; }
[data-bs-theme="light"] .profile-card .metric { color: var(--muted); }
[data-bs-theme="light"] .profile-card .metric strong { color: var(--brand-2); }

/* ====== Avatar ====== */
.avatar {
  width: 170px;
  height: 170px;
  border-radius: 30px;
  object-fit: cover;
  border: 4px solid rgba(255,255,255,.25);
  box-shadow: var(--shadow-2);
  transition: transform .35s var(--ease), box-shadow .35s var(--ease), filter .35s var(--ease);
  will-change: transform, filter;
}
.avatar.interactive:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 30px 60px rgba(6,24,15,.4); filter: saturate(1.08);
}

/* ====== Buttons ====== */
.btn-raise {
  position: relative;
  overflow: hidden;
  transition: transform .18s var(--ease), box-shadow .25s var(--ease), filter .25s var(--ease);
  box-shadow: var(--shadow-1);
}
.btn-raise:hover { transform: translateY(-2px); box-shadow: var(--shadow-2); filter: brightness(1.04); }
.btn-raise:active { transform: translateY(0); }
.btn-raise .ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  pointer-events: none;
  background: rgba(255,255,255,.35);
  animation: ripple .6s var(--ease);
}
@keyframes ripple { to { transform: scale(8); opacity: 0; } }

.btn-gradient {
  background-image: linear-gradient(135deg, var(--brand), var(--brand-accent));
  border: none;
  color: var(--btn-text);
}
.btn-outline-lime {
  border: 2px solid rgba(99,212,113,.6);
  color: var(--brand-accent);
}
.btn-outline-lime:hover,
.btn-outline-lime:focus-visible { background: rgba(99,212,113,.12); color: var(--brand-accent); }
.btn-ghost {
  background: rgba(99,212,113,.12);
  border: 1px solid rgba(99,212,113,.18);
  color: var(--brand-accent);
  border-radius: .65rem;
}
.btn-ghost:hover { background: rgba(99,212,113,.2); }
.btn:focus-visible { box-shadow: 0 0 0 4px var(--ring); }

.badge-senior {
  background: rgba(99,212,113,.25);
  color: #f4fff9;
  border-radius: 999px;
  padding: .35rem .85rem;
}
[data-bs-theme="light"] .badge-senior { color: var(--brand-2); }

/* ====== Scroll reveal ====== */
[data-reveal] { opacity: 0; transform: translateY(18px); filter: blur(6px); transition: opacity .7s var(--ease), transform .7s var(--ease), filter .7s var(--ease);
  will-change: opacity, transform, filter; }
[data-reveal="left"] { transform: translateX(-24px); }
[data-reveal="right"] { transform: translateX(24px); }
[data-reveal="up"] { transform: translateY(32px); }
[data-reveal].is-revealed { opacity: 1; transform: none; filter: blur(0); }

/* ====== Progress Bar ====== */
#scrollProgress { position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: transparent; z-index: 1031; }
#scrollProgress .bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, rgba(31,138,76,1), rgba(99,212,113,1), rgba(15,70,44,1));
  box-shadow: 0 0 12px rgba(99,212,113,.5);
}

/* ====== Highlight cards ====== */
.section-highlight { padding-top: 3.5rem; padding-bottom: 3.5rem; }
.highlight-card {
  background: rgba(255,255,255,.85);
  border-radius: 1.2rem;
  padding: 2rem;
  border: 1px solid rgba(31,138,76,.14);
  box-shadow: var(--shadow-1);
  transition: transform .25s var(--ease), box-shadow .25s var(--ease);
}
.highlight-card:hover { transform: translateY(-6px); box-shadow: var(--shadow-2); }
.highlight-card i { font-size: 1.6rem; color: var(--brand); }
[data-bs-theme="dark"] .highlight-card { background: rgba(12,33,23,.8); color: var(--text-color); border-color: rgba(99,212,113,.18); }

/* ====== Profile / chips ====== */
.mini-avatar { width: 44px; height: 44px; border-radius: 16px; object-fit: cover; border: 2px solid rgba(255,255,255,.35); box-shadow: var(--shadow-1); }
.profile-card .card-body { padding: 1.3rem; }
.profile-info li { display: flex; align-items: center; gap: .6rem; color: var(--muted); font-size: .9rem; margin-bottom: .5rem; }
.profile-info li i { color: var(--brand); }

.chip {
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  padding: .35rem .75rem;
  border-radius: 999px;
  background: var(--chip-bg);
  color: var(--chip-fg);
  font-weight: 500;
  font-size: .85rem;
  text-decoration: none;
  transition: transform .2s var(--ease), box-shadow .2s var(--ease);
}
.chip:hover { transform: translateY(-2px); box-shadow: var(--shadow-1); }

/* ====== Stories ====== */
.stories {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  gap: .75rem;
  padding: .75rem;
  border-radius: 1rem;
  background: rgba(255,255,255,.9);
  border: 1px solid var(--border);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
}
[data-bs-theme="dark"] .stories { background: rgba(10,28,20,.92); }
.stories::-webkit-scrollbar { height: 6px; }
.story {
  scroll-snap-align: start;
  display: grid;
  justify-items: center;
  gap: .4rem;
  padding: .5rem .7rem;
  border-radius: .9rem;
  background: linear-gradient(145deg, rgba(31,138,76,.12), rgba(99,212,113,.08));
  min-width: 92px;
  color: var(--muted);
}
.story.add { background: rgba(31,138,76,.1); color: var(--brand); border: 1px dashed rgba(31,138,76,.35); }
.story img {
  width: 56px;
  height: 56px;
  border-radius: 20px;
  object-fit: cover;
  border: 2px solid transparent;
  background: conic-gradient(var(--brand), var(--brand-accent)) border-box;
  padding: 2px;
}

/* ====== Composer ====== */
.composer textarea {
  resize: none;
  border-radius: 1rem;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.85);
  padding: .85rem 1rem;
}
[data-bs-theme="dark"] .composer textarea { background: rgba(12,33,23,.95); }

/* ====== Feed list ====== */
.feed-list { display: grid; gap: 1rem; }
.feed-card { border-radius: 1.1rem; overflow: hidden; border: 1px solid var(--border); background: rgba(255,255,255,.92); }
[data-bs-theme="dark"] .feed-card { background: rgba(12,33,23,.92); }
.feed-card .card-body { padding: 1rem 1.1rem .85rem; }
.feed-card .author { display: flex; align-items: center; gap: .75rem; }
.feed-card .meta { font-size: .82rem; color: var(--muted); }
.feed-card .content { margin-top: .55rem; white-space: pre-wrap; }
.feed-card .tags { margin-top: .6rem; display: flex; gap: .5rem; flex-wrap: wrap; }

.btn-action {
  --btn-bg: rgba(31,138,76,.08);
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  border-radius: .7rem;
  border: 1px solid var(--border);
  padding: .4rem .75rem;
  background: var(--btn-bg);
  transition: transform .2s var(--ease), background .2s var(--ease), border-color .2s var(--ease);
}
.btn-action:hover { transform: translateY(-2px); background: rgba(31,138,76,.12); }
.btn-like.liked { color: #ff6b6b; }
.btn-like.liked .bi-heart { animation: pop .3s var(--ease); }
@keyframes pop { 0% { transform: scale(.6); } 80% { transform: scale(1.25); } 100% { transform: scale(1); } }

.skeleton { position: relative; overflow: hidden; background: rgba(31,138,76,.08); border-radius: 1.2rem; height: 92px; }
.skeleton::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.36), rgba(255,255,255,0));
  transform: translateX(-100%);
  animation: shimmer 1.2s infinite;
}
@keyframes shimmer { to { transform: translateX(100%); } }

/* ====== Timeline ====== */
.timeline { display: grid; gap: .9rem; font-size: .9rem; color: var(--muted); }
.timeline .dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--brand-accent);
  margin-right: .6rem;
  box-shadow: 0 0 0 4px rgba(99,212,113,.2);
}
.timeline li { display: flex; align-items: center; gap: .6rem; }

/* ====== Focus / Skill cards ====== */
.focus-card,
.skill-card,
.contact-card {
  border-radius: 1.2rem;
  padding: 2rem;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.9);
  box-shadow: var(--shadow-1);
}
[data-bs-theme="dark"] .focus-card,
[data-bs-theme="dark"] .skill-card,
[data-bs-theme="dark"] .contact-card {
  background: rgba(12,33,23,.9);
}
.focus-list,
.contact-list { list-style: none; padding: 0; margin: 0; display: grid; gap: .9rem; color: var(--muted); }
.focus-list i,
.contact-list i { color: var(--brand-accent); margin-right: .6rem; }

.badge-tech {
  background: rgba(31,138,76,.14);
  color: var(--brand-2);
  font-weight: 600;
  border-radius: .65rem;
  padding: .45rem .8rem;
}
[data-bs-theme="dark"] .badge-tech { color: var(--chip-fg); }

/* ====== Projects ====== */
.project-card { border-radius: 1.3rem; overflow: hidden; border: 1px solid var(--border); box-shadow: var(--shadow-1); transition: transform .3s var(--ease), box-shadow .3s var(--ease); }
.project-card:hover { transform: translateY(-8px); box-shadow: var(--shadow-2); }
.project-media { position: relative; aspect-ratio: 16/9; overflow: hidden; }
.project-media img { width: 100%; height: 100%; object-fit: cover; transition: transform .5s var(--ease); }
.project-card:hover .project-media img { transform: scale(1.05); }
.project-pill {
  position: absolute;
  top: 18px;
  left: 18px;
  padding: .35rem .75rem;
  border-radius: 999px;
  background: rgba(6,24,15,.75);
  color: #f4fff9;
  font-size: .8rem;
  letter-spacing: .04em;
  text-transform: uppercase;
  display: inline-flex;
  align-items: center;
  gap: .35rem;
}
[data-bs-theme="light"] .project-pill { background: rgba(0,0,0,.65); }
.project-meta { font-size: .85rem; text-transform: uppercase; letter-spacing: .08em; color: var(--muted); }
.project-list { padding-left: 1.1rem; margin-bottom: 1.1rem; color: var(--muted); }
.project-list li { margin-bottom: .45rem; }

/* ====== Contact ====== */
.contact-card { background: rgba(255,255,255,.88); }
[data-bs-theme="dark"] .contact-card { background: rgba(12,33,23,.88); }
.contact-list li { display: flex; align-items: center; gap: .6rem; }

/* ====== Footer ====== */
footer { background: rgba(6,24,15,.92); color: rgba(233,247,240,.75); }
[data-bs-theme="light"] footer { background: rgba(245,255,249,.92); color: var(--muted); }

/* ====== To top button ====== */
#toTop {
  position: fixed;
  right: 18px;
  bottom: 18px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(12px);
  transition: opacity .25s var(--ease), transform .25s var(--ease), visibility .25s var(--ease);
  z-index: 1031;
}
#toTop.show { opacity: 1; visibility: visible; transform: none; }

/* ====== Chat widget ====== */
.chat-toggle {
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-2);
  z-index: 1040;
}

.chat-widget {
  position: fixed;
  right: 18px;
  bottom: 92px;
  width: 320px;
  border-radius: 16px;
  background: rgba(255, 255, 255, .96);
  border: 1px solid rgba(31, 138, 76, .15);
  box-shadow: 0 18px 40px rgba(6, 24, 15, .28);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  z-index: 1040;
  opacity: 0;
  transform: translateY(12px) scale(.98);
  pointer-events: none;
  transition: opacity .25s var(--ease), transform .25s var(--ease);
}

.chat-widget.is-active {
  opacity: 1;
  transform: none;
  pointer-events: auto;
}

[data-bs-theme="dark"] .chat-widget {
  background: rgba(12, 33, 23, .96);
  border-color: rgba(99, 212, 113, .25);
  box-shadow: 0 18px 36px rgba(0, 0, 0, .4);
}

.chat-header,
.chat-form {
  padding: 1rem 1.2rem;
  display: flex;
  align-items: center;
  gap: .75rem;
}

.chat-header {
  justify-content: space-between;
  border-bottom: 1px solid var(--border);
}

.chat-header .btn {
  border: none;
  background: transparent;
  color: inherit;
}

.chat-messages {
  padding: 1.1rem 1.2rem;
  display: flex;
  flex-direction: column;
  gap: .75rem;
  max-height: 320px;
  overflow-y: auto;
  scrollbar-width: thin;
}

.chat-message {
  display: flex;
}

.chat-message.bot { justify-content: flex-start; }

.chat-message.user { justify-content: flex-end; }

.chat-bubble {
  padding: .6rem .85rem;
  border-radius: 1rem;
  max-width: 85%;
  font-size: .92rem;
  line-height: 1.45;
  box-shadow: var(--shadow-1);
}

.chat-message.bot .chat-bubble {
  background: var(--chip-bg);
  color: var(--chip-fg);
  box-shadow: none;
}

.chat-message.user .chat-bubble {
  background: linear-gradient(135deg, var(--brand), var(--brand-accent));
  color: var(--btn-text);
}

.chat-bubble a {
  color: inherit;
  text-decoration: underline;
  font-weight: 600;
}

.chat-form {
  border-top: 1px solid var(--border);
}

.chat-form .form-control {
  flex: 1;
}

.chat-form .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding-inline: .85rem;
}

body.has-chat #toTop {
  right: 92px;
}

body.chat-open #toTop {
  bottom: 96px;
}

body.chat-open.has-chat #toTop {
  right: 92px;
}

@media (max-width: 575.98px) {
  .chat-widget {
    width: calc(100vw - 32px);
    right: 16px;
    bottom: 88px;
  }
  .chat-toggle {
    right: 16px;
    bottom: 16px;
  }
  body.has-chat #toTop,
  body.chat-open.has-chat #toTop {
    right: calc(16px + 60px);
  }
}

/* ====== Links ====== */
.link-muted { color: var(--muted); text-decoration: none; font-weight: 500; }
.link-muted:hover { color: var(--brand-accent); text-decoration: underline; }

/* ====== Media ====== */
@media (max-width: 991.98px) {
  .hero { text-align: center; }
  .hero .lead { margin-inline: auto; }
  .hero-actions { justify-content: center; }
}

@media (prefers-reduced-motion: reduce) {
  * { scroll-behavior: auto !important; transition: none !important; animation: none !important; }
  [data-reveal] { opacity: 1 !important; transform: none !important; filter: none !important; }
}
